% !TeX root = ../main-presentation.tex
\section{Semantics}

\begin{frame}
    \frametitle{Interpretation}

    Values are interpreted in a \alert{lattice} \(\values\):

    \begin{minipage}{0.49\textwidth}
        \[
            \tikzfig{circuits/a4}
        \]
    \end{minipage}
    \begin{minipage}{0.49\textwidth}
        \begin{align*}
            \tikzfig{circuits/components/values/false} 
            \,&\mapsto\, 0 \\
            \tikzfig{circuits/components/values/true} 
            \,&\mapsto\, 1 \\
            \tikzfig{strings/structure/monoid/init} 
            \,&\mapsto\, \bot \\
            \tikzfig{strings/structure/monoid/init-white} 
            \,&\mapsto\, \top \\
        \end{align*}
    \end{minipage}
\end{frame}

\begin{frame}
    \frametitle{Interpretation}

    \setlength{\tabcolsep}{1.5em}
    \renewcommand{\arraystretch}{2}

    \begin{center}
        \begin{tabular}{lrl}
            \tikzfig{circuits/components/gates/gate} & \alert{monotone functions} & \(\morph{\overline{g}}{\valuetuple{m}}{\values}\) \\ \wait
            \tikzfig{strings/structure/comonoid/copy} & \alert{copy} & \(x \mapsto (x, x)\) \\ \wait
            \tikzfig{strings/structure/monoid/merge} & \alert{join in the lattice} & \((x, y) \mapsto x \ljoin y\) \\ \wait
            \tikzfig{strings/structure/comonoid/discard} & \alert{discard} & \(x \mapsto \bullet\)
        \end{tabular}
    \end{center}
\end{frame}

\begin{frame}
    \frametitle{Stream functions}

    The semantics of circuits is that of \alert{stream functions}.

    \wait

    A \alert{stream} \(\stream{\values}\) is an infinite sequence of values.
    
    \wait
    
    A \alert{stream function} \(\morph{f}{\stream{(\valuetuple{m})}}{\stream{(\valuetuple{n})}}\) consumes and produces streams.

\end{frame}

\begin{frame}
    \frametitle{Causal stream functions}

    Not all stream functions correspond to sequential circuits...

    \vspace{1em}
    \wait

    \begin{minipage}{0.3\textwidth}
        \alert{Causal}

        \small{Depends on past inputs}
    \end{minipage}
    \quad\wait
    \begin{minipage}{0.3\textwidth}
        \alert{Monotone}

        \small{with respect to the lattice}\normalsize
    \end{minipage}
    \quad\wait
    \begin{minipage}{0.3\textwidth}
        \alert{`Finite'}

        \small{Specifies finite behaviours}
    \end{minipage}
    
    \wait

    \begin{theorem}
        Every monotone causal stream function with `finite behaviours' corresponds to a class of sequential circuits. 
    \end{theorem}
\end{frame}